<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Maestro - UABC</title>
    <link rel="stylesheet" href="css/dashboard-maestro.css">
</head>

<body>

<div class="sidebar">
    <div class="logo">
        <img src="img/Isotipo.png" alt="UABC Logo">
        <p>Universidad Autónoma de Baja California</p>
        <small>Panel del Maestro</small>
    </div>

    <a href="#" onclick="mostrarSeccion('solicitar')" class="active">Solicitar Préstamo</a>
    <a href="#" onclick="mostrarSeccion('misPrestamos')">Mis Préstamos</a>
    <a href="#" onclick="mostrarSeccion('historial')">Historial</a>
    <a href="#" id="logout">Cerrar sesión</a>
</div>

<div class="contenido">
    <h2>Panel del Maestro</h2>

    <!-- SECCIÓN: Solicitar Préstamo -->
    <div id="solicitar" class="seccion">
        <h3>Solicitar Préstamo</h3>

        <form id="formPrestamo">
            <div class="form-group">
                <label for="laboratorio">Laboratorio:</label>
                <select id="laboratorio" name="laboratorio" required>
                    <option value="">Seleccionar laboratorio...</option>
                </select>
            </div>

            <div class="form-group">
                <label for="fechaPrestamo">Fecha y hora del préstamo:</label>
                <input type="datetime-local" id="fechaPrestamo" name="fechaPrestamo" required>
            </div>

            <!-- Campos adicionales para tipos de clase (opcional) -->
            <div class="form-group">
                <label for="tipoGrupo">Tipo de clase:</label>
                <select id="tipoGrupo" name="tipoGrupo">
                    <option value="">Seleccionar tipo...</option>
                    <option value="grupal">Clase grupal</option>
                    <option value="individual">Clase individual</option>
                </select>
            </div>

            <!-- Campos para clase grupal -->
            <div id="grupoGrupal" class="campos-dinamicos">
                <div class="form-group">
                    <label for="nombreGrupo">Nombre del grupo:</label>
                    <input type="text" id="nombreGrupo" name="nombreGrupo" placeholder="Ej: Grupo 3A, Ingeniería en Sistemas">
                </div>
                
                <div class="form-group">
                    <label for="descripcionGrupo">Descripción de la clase:</label>
                    <textarea id="descripcionGrupo" name="descripcionGrupo" placeholder="Describe brevemente el tema o actividad a realizar..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="numeroAlumnos">Número de alumnos (opcional):</label>
                    <input type="number" id="numeroAlumnos" name="numeroAlumnos" min="1" placeholder="Ej: 25">
                </div>
            </div>

            <!-- Campos para clase individual -->
            <div id="grupoIndividual" class="campos-dinamicos">
                <div class="form-group" style="position: relative;">
                    <label for="alumnoEspecifico">Buscar alumno:</label>
                    <input type="text" id="alumnoEspecifico" name="alumnoEspecifico" 
                           placeholder="Escribe el nombre del alumno..." 
                           onkeyup="buscarAlumno()" autocomplete="off">
                    <input type="hidden" id="idAlumnoSeleccionado">
                    
                    <div id="resultadosAlumnos"></div>
                </div>
                
                <div class="form-group">
                    <label for="motivoIndividual">Motivo de la clase individual:</label>
                    <textarea id="motivoIndividual" name="motivoIndividual" placeholder="Describe el motivo de la clase individual..."></textarea>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Enviar Solicitud</button>
        </form>
    </div>

    <!-- SECCIÓN: Mis Préstamos -->
    <div id="misPrestamos" class="seccion" style="display:none;">
        <h3>Mis Préstamos</h3>

        <table id="tablaPrestamos">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Laboratorio</th>
                    <th>Fecha Préstamo</th>
                    <th>Estado</th>
                    <th>Fecha Solicitud</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="5" style="text-align: center; padding: 20px;">
                        Cargando préstamos...
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- SECCIÓN: Historial -->
    <div id="historial" class="seccion" style="display:none;">
        <h3>Historial Completo</h3>

        <table id="tablaHistorial">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Laboratorio</th>
                    <th>Fecha Préstamo</th>
                    <th>Estado</th>
                    <th>Fecha Solicitud</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="5" style="text-align: center; padding: 20px;">
                        Cargando historial...
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>

<!-- Scripts -->
<script src="js/logout.js"></script>
<script src="js/prestamos.js"></script>
<script src="js/historial.js"></script>
<script src="js/dashboard-maestro.js"></script>

</body>
</html>
